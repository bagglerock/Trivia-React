(this["webpackJsonptrivia-react"]=this["webpackJsonptrivia-react"]||[]).push([[0],{67:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(32),i=n.n(c),s=n(5),u=n(15),o=new function e(){Object(s.a)(this,e),this.init=function(){u.a.initialize("G-1K6KGFYSH7")},this.pageview=function(){u.a.pageview(window.location.pathname+window.location.search)},this.event=function(e){var t=e.category,n=e.action,a=e.label;u.a.event({category:t,action:n,label:a})}},l=function(){var e=(new Date).getFullYear();return r.a.createElement(r.a.Fragment,null,r.a.createElement("footer",null,"\xa9 ",e," Oscar Villalta"))},m=function(e){var t=e.title;return r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,t))},f=n(7),h=n(71),p=n(72),v=function(e){var t=e.answers,n=e.handleClick;return e.disableAnswers?r.a.createElement(r.a.Fragment,null):r.a.createElement(r.a.Fragment,null,t.map((function(e){return r.a.createElement(p.a,{key:e,onClick:function(e){return n(e)}},e)})))},g=n(70),w=function(e){var t=e.question;return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,null,r.a.createElement("h2",null,t)))},E=n(1),b=n.n(E),d=n(8),O=n(12),j=n(11),k=n(10),q=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(s.a)(this,e),this.question="",this.answers=[],this.correctAnswer="",Object.assign(this,t)},y=n(33),x=n(34),N=n.n(x),C=new(function(){function e(){Object(s.a)(this,e),this.httpClient=void 0,this.httpClient=N.a.create({baseURL:"https://opentdb.com"})}return Object(k.a)(e,[{key:"get",value:function(){var e=Object(d.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.httpClient.get(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}()),P=new(function(){function e(){Object(s.a)(this,e)}return Object(k.a)(e,[{key:"get",value:function(){var e=Object(d.a)(b.a.mark((function e(){var t,n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.get("/api.php?amount=10");case 2:return t=e.sent,n=t.data.results,a=Q(n),e.abrupt("return",Object(j.shuffle)(a));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}()),Q=function(e){var t=y.AllHtmlEntities.decode;return e.map((function(e){var n=Object(j.concat)(e.incorrect_answers,e.correct_answer).map((function(e){return t(e)}));if("True"!==n[0]){var a=Object(j.shuffle)(n)||[];return new q({question:t(e.question),correctAnswer:t(e.correct_answer),answers:a})}return new q({question:t(e.question),correctAnswer:t(e.correct_answer),answers:n})}))},A=function(){function e(){Object(s.a)(this,e),this.questions=void 0,this.questionPosition=void 0,this.questions=[new q],this.questionPosition=0}return Object(k.a)(e,[{key:"initialize",value:function(){var e=Object(d.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.questionPosition=0,e.next=3,this.fetchQuestions();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"advanceQuestion",value:function(){this.questionPosition++}},{key:"getQuestion",value:function(){return this.questions[this.questionPosition]}},{key:"getQuestionsCount",value:function(){return this.questions.length}},{key:"getQuestionsPosition",value:function(){return this.questionPosition}},{key:"fetchQuestions",value:function(){var e=Object(d.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.get();case 2:t=e.sent,this.questions=t;case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}]),e}();A.instance=void 0;var F=function(){var e=function(){var e=Object(a.useState)(!1),t=Object(O.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),i=Object(O.a)(c,2),s=i[0],u=i[1],o=Object(a.useState)(10),l=Object(O.a)(o,2),m=l[0],f=l[1],h=Object(a.useState)(!1),p=Object(O.a)(h,2),v=p[0],g=p[1],w=Object(a.useState)(0),E=Object(O.a)(w,2),k=E[0],q=E[1],y=A.getInstance(),x=Object(a.useCallback)((function(){y.getQuestionsPosition()!==y.getQuestionsCount()-1?(y.advanceQuestion(),g(!1),f(10)):r(!1)}),[y]);return Object(a.useEffect)((function(){var e;return n&&(e=setInterval((function(){f((function(e){return null!=e?e-1:null}))}),1e3),0===m&&(clearInterval(e),f(null),function(){var e=y.getQuestion().correctAnswer;u("The answer is: "+e),g(!0),setTimeout((function(){x(),u("")}),5e3)}())),function(){return clearInterval(e)}}),[m,n,y,x]),{gameIsOn:n,init:function(){var e=Object(d.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.initialize();case 3:r(!0),q(0),f(10),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),u("Problem resetting game.");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),handleClick:function(e){var t=e.currentTarget.textContent,n=y.getQuestion();t===Object(j.find)(n.answers,(function(e){return e===n.correctAnswer}))?(q(k+(m||0)),x(),u("")):u("that is incorrect")},message:s,question:y.getQuestion(),advanceQuestion:x,countdown:m,disableAnswers:v,score:k}}(),t=e.handleClick,n=e.gameIsOn,c=e.init,i=e.question,s=e.message,u=e.countdown,o=e.disableAnswers,l=e.score;return n?r.a.createElement("div",{className:"game"},r.a.createElement("div",{className:"question-wrapper"},r.a.createElement(w,{question:i.question})),r.a.createElement("div",{className:"message-wrapper"},r.a.createElement(S,{countdown:u})),r.a.createElement("div",{className:"message-wrapper"},r.a.createElement(I,{message:s})),r.a.createElement("div",{className:"answer-wrapper"},r.a.createElement(v,{answers:i.answers,handleClick:t,disableAnswers:o}))):r.a.createElement("div",{className:"game start-page"},r.a.createElement(p.a,{onClick:c},"Start Game"),r.a.createElement("h2",{className:"mt-5"},"Your last score was: ",l),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"#/page-1"},"Page 1")),r.a.createElement("li",null,r.a.createElement("a",{href:"#/page-2"},"Page 2")),r.a.createElement("li",null,r.a.createElement("a",{href:"#/page-3"},"Page 3"))))},I=function(e){var t=e.message;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,t))},S=function(e){var t=e.countdown;return r.a.createElement(r.a.Fragment,null,t?r.a.createElement("h3",null,t):"")},T=function(){var e=Object(f.a)();return r.a.createElement(h.b,{history:e},r.a.createElement(h.c,null,r.a.createElement(h.a,{path:"/page-1",exact:!0,component:function(){return r.a.createElement(_,{pageNumber:1})}}),r.a.createElement(h.a,{path:"/page-2",exact:!0,component:function(){return r.a.createElement(_,{pageNumber:2})}}),r.a.createElement(h.a,{path:"/page-3",exact:!0,component:function(){return r.a.createElement(_,{pageNumber:3})}}),r.a.createElement(h.a,{path:"/",component:F})))},_=function(e){var t=e.pageNumber;return r.a.createElement("div",{className:"w-100 text-center"},r.a.createElement("h1",null,"Page-",t),r.a.createElement("a",{href:"#/"},"HOME"))},z=function(){return Object(a.useEffect)((function(){o.init(),o.pageview()}),[]),r.a.createElement("div",{className:"app"},r.a.createElement(m,{title:"Trivia"}),r.a.createElement("div",{className:"main"},r.a.createElement(T,null)),r.a.createElement(l,null))};n(67);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(z,null)),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.34dcd9e7.chunk.js.map