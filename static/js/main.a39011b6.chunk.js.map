{"version":3,"sources":["sections/Footer/Footer.tsx","sections/Header/Header.tsx","sections/Main/Game/sections/Answers.tsx","sections/Main/Game/sections/Question.tsx","sections/Main/models/Question.ts","services/QuestionRepository.ts","sections/Main/Game/Game.tsx","sections/Main/useGame.ts","sections/Main/Main.tsx","App.tsx","index.tsx"],"names":["Footer","year","Date","getFullYear","Header","title","className","Answers","answers","handleClick","map","answer","Button","key","onClick","e","Question","question","Jumbotron","data","correctAnswer","Object","assign","this","questionsRepository","results","mock","questions","mapQuestions","shuffle","decode","AllHtmlEntities","result","decodedAnswers","concat","incorrect_answers","correct_answer","shuffledAnswers","Game","useState","setQuestions","gameIsOn","setGameIsOn","currentQuestionId","setCurrentQuestionId","message","setMessage","find","a","useEffect","length","startGame","get","currentTarget","textContent","useGame","currentQuestion","Message","Main","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a39011b6.chunk.js","sourcesContent":["import React from 'react';\n\nexport const Footer: React.FC = () => {\n  const date = new Date();\n  const year = date.getFullYear();\n\n  return (\n    <>\n      <footer>&copy; {year} Oscar Villalta</footer>\n    </>\n  );\n};\n","import React from 'react';\n\nexport const Header: React.FC<HeaderProps> = ({ title }) => (\n  <div className=\"header\">\n    <h1>{title}</h1>\n  </div>\n);\n\ninterface HeaderProps {\n  title: string;\n}\n","import React from 'react';\nimport { Button } from 'react-bootstrap';\n\nexport const Answers: React.FC<AnswerProps> = ({ answers, handleClick }) => (\n  <>\n    {answers.map(answer => (\n      <Button key={answer} onClick={(e: React.MouseEvent<HTMLButtonElement>) => handleClick(e)}>\n        {answer}\n      </Button>\n    ))}\n  </>\n);\n\ninterface AnswerProps {\n  answers: string[];\n  handleClick: (e: React.MouseEvent<HTMLButtonElement>) => void;\n}\n","import React from 'react';\nimport { Jumbotron } from 'react-bootstrap';\n\nexport const Question: React.FC<QuestionProps> = ({ question }) => (\n  <>\n    <Jumbotron>\n      <h2>{question}</h2>\n    </Jumbotron>\n  </>\n);\n\ninterface QuestionProps {\n  question: string;\n}\n","export class Question {\n  question: string = '';\n  answers: string[] = [];\n  correctAnswer: string = '';\n\n  constructor(data: Partial<Question> = {}) {\n    Object.assign(this, data);\n  }\n}\n","import { AllHtmlEntities } from 'html-entities';\nimport { concat, shuffle } from 'lodash';\nimport { Question } from 'sections/Main/models/Question';\n// import { questionsClient } from './QuestionsClient';\nimport mock from './mockResponse.json';\n\nclass QuestionsRepository {\n  async get(): Promise<any> {\n    // const response = await questionsClient.get('/api.php?amount=10');\n    const response = mock;\n\n    const results = response.data.results;\n\n    const questions = mapQuestions(results);\n\n    return shuffle(questions);\n  }\n}\n\nexport const questionsRepository = new QuestionsRepository();\n\nconst mapQuestions = (data: any): Question[] => {\n  const { decode } = AllHtmlEntities;\n\n  const questions = data.map((result: any) => {\n    const answers = concat(result.incorrect_answers, result.correct_answer);\n\n    const decodedAnswers = answers.map(answer => decode(answer));\n\n    const shuffledAnswers = shuffle(decodedAnswers) || [];\n\n    return new Question({\n      question: decode(result.question),\n      correctAnswer: decode(result.correct_answer),\n      answers: shuffledAnswers,\n    });\n  });\n\n  return questions;\n};\n","import React from 'react';\nimport { Button } from 'react-bootstrap';\nimport { Answers } from 'sections/Main/Game/sections/Answers';\nimport { Question } from 'sections/Main/Game/sections/Question';\nimport { useGame } from 'sections/Main/useGame';\n\nexport const Game: React.FC = () => {\n  const { currentQuestionId, handleClick, gameIsOn, startGame, questions, message } = useGame();\n\n  const currentQuestion = questions[currentQuestionId];\n\n  if (!gameIsOn) {\n    return (\n      <div className=\"game start-page\">\n        <Button onClick={startGame}>Start Game</Button>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"game\">\n      <div className=\"question-wrapper\">\n        <Question question={currentQuestion.question} />\n      </div>\n      <div className=\"message-wrapper\">\n        <Message message={message} />\n      </div>\n      <div className=\"answer-wrapper\">\n        <Answers answers={currentQuestion.answers} handleClick={handleClick} />\n      </div>\n    </div>\n  );\n};\n\nconst Message: React.FC<{ message: string }> = ({ message }) => (\n  <>\n    <h3>{message}</h3>\n  </>\n);\n","import { find } from 'lodash';\nimport { useEffect, useState } from 'react';\nimport { Question } from 'sections/Main/models/Question';\nimport { questionsRepository } from 'services/QuestionRepository';\n\nexport const useGame = () => {\n  const [questions, setQuestions] = useState([new Question()]);\n  const [gameIsOn, setGameIsOn] = useState(false);\n  const [currentQuestionId, setCurrentQuestionId] = useState(0);\n  const [message, setMessage] = useState('');\n\n  const { answers, correctAnswer } = questions[currentQuestionId];\n\n  const answer = find(answers, (a: any) => a === correctAnswer); // not sure if this catches a bad value\n\n  useEffect(() => {\n    if (currentQuestionId === questions.length - 1) {\n      setGameIsOn(false);\n\n      return;\n    }\n  }, [currentQuestionId, questions]);\n\n  const startGame = async () => {\n    const questions = await questionsRepository.get();\n\n    setQuestions(questions);\n    setCurrentQuestionId(0);\n    setGameIsOn(true);\n  };\n\n  const handleClick = (e: React.MouseEvent<HTMLButtonElement>) => {\n    const choice = e.currentTarget.textContent;\n\n    if (choice === answer) {\n      setCurrentQuestionId(currentQuestionId + 1);\n\n      setMessage('');\n      return;\n    }\n\n    setMessage('that is incorrect');\n  };\n\n  return {\n    gameIsOn,\n    currentQuestionId,\n    startGame,\n    handleClick,\n    questions,\n    message,\n  };\n};\n","import React from 'react';\nimport { Game } from 'sections/Main/Game/Game';\n\nexport const Main: React.FC = () => <Game />;\n","import React from 'react';\nimport { Footer } from 'sections/Footer/Footer';\nimport { Header } from 'sections/Header/Header';\nimport { Main } from 'sections/Main/Main';\n\nexport const App: React.FC = () => (\n  <div className=\"app\">\n    <Header title=\"Trivia\" />\n\n    <div className=\"main\">\n      <Main />\n    </div>\n\n    <Footer />\n  </div>\n);\n\n// will need something to control the timers, maybe a hook\n\n// try to hook this to some API to get questions\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from 'App';\nimport './index.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}