(this["webpackJsonptrivia-react"]=this["webpackJsonptrivia-react"]||[]).push([[0],{26:function(e,t,n){e.exports=n(55)},54:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(22),i=n.n(c),s=function(){var e=(new Date).getFullYear();return r.a.createElement(r.a.Fragment,null,r.a.createElement("footer",null,"\xa9 ",e," Oscar Villalta"))},u=function(e){var t=e.title;return r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,t))},o=n(57),l=function(e){var t=e.answers,n=e.handleClick;return r.a.createElement(r.a.Fragment,null,t.map((function(e){return r.a.createElement(o.a,{key:e,onClick:function(e){return n(e)}},e)})))},f=n(56),m=function(e){var t=e.question;return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,null,r.a.createElement("h2",null,t)))},v=n(1),h=n.n(v),p=n(4),w=n(10),d=n(8),g=n(5),E=n(7),b=n(24),O=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(g.a)(this,e),this.question="",this.answers=[],this.correctAnswer="",Object.assign(this,t)},j=n(25),k=n.n(j),q=new(function(){function e(){Object(g.a)(this,e),this.httpClient=void 0,this.httpClient=k.a.create({baseURL:"https://opentdb.com"})}return Object(E.a)(e,[{key:"get",value:function(){var e=Object(p.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.httpClient.get(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}()),y=new(function(){function e(){Object(g.a)(this,e)}return Object(E.a)(e,[{key:"get",value:function(){var e=Object(p.a)(h.a.mark((function e(){var t,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.get("/api.php?amount=10");case 2:return t=e.sent,n=t.data.results,a=x(n),e.abrupt("return",Object(d.shuffle)(a));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}()),x=function(e){var t=b.AllHtmlEntities.decode;return e.map((function(e){var n=Object(d.concat)(e.incorrect_answers,e.correct_answer).map((function(e){return t(e)}));if("True"!==n[0]){var a=Object(d.shuffle)(n)||[];return new O({question:t(e.question),correctAnswer:t(e.correct_answer),answers:a})}return new O({question:t(e.question),correctAnswer:t(e.correct_answer),answers:n})}))},C=function(){function e(){Object(g.a)(this,e),this.questions=void 0,this.questionPosition=void 0,this.questions=[new O],this.questionPosition=0}return Object(E.a)(e,[{key:"initialize",value:function(){var e=Object(p.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.questionPosition=0,e.next=3,this.fetchQuestions();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"advanceQuestion",value:function(){this.questionPosition++}},{key:"getQuestion",value:function(){return this.questions[this.questionPosition]}},{key:"getQuestionsCount",value:function(){return this.questions.length}},{key:"getQuestionsPosition",value:function(){return this.questionPosition}},{key:"fetchQuestions",value:function(){var e=Object(p.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get();case 2:t=e.sent,this.questions=t;case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}]),e}();C.instance=void 0;var Q=function(){var e=Object(a.useState)(!1),t=Object(w.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),i=Object(w.a)(c,2),s=i[0],u=i[1],o=C.getInstance(),l=o.getQuestion(),f=function(){o.getQuestionsPosition()!==o.getQuestionsCount()-1?o.advanceQuestion():r(!1)};return{gameIsOn:n,init:function(){var e=Object(p.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.initialize();case 3:r(!0),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),u("Problem resetting game.");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),handleClick:function(e){e.currentTarget.textContent===Object(d.find)(l.answers,(function(e){return e===l.correctAnswer}))?(f(),u("")):u("that is incorrect")},message:s,question:l,advanceQuestion:f}},N=function(){var e=Q(),t=e.handleClick,n=e.gameIsOn,c=e.init,i=e.question,s=e.message,u=function(e,t){var n=Object(a.useState)(5),r=Object(w.a)(n,2),c=r[0],i=r[1],s=function(){i(5)};return Object(a.useEffect)((function(){var t;return t=setInterval((function(){i((function(e){return e-1}))}),1e3),0===c&&(e(),s()),function(){return clearInterval(t)}}),[c,e]),Object(a.useEffect)((function(){s()}),[t]),{countdown:c}}(e.advanceQuestion,i).countdown;return n?r.a.createElement("div",{className:"game"},r.a.createElement("div",{className:"question-wrapper"},r.a.createElement(m,{question:i.question})),r.a.createElement("div",{className:"message-wrapper"},r.a.createElement(I,{countdown:u})),r.a.createElement("div",{className:"message-wrapper"},r.a.createElement(P,{message:s})),r.a.createElement("div",{className:"answer-wrapper"},r.a.createElement(l,{answers:i.answers,handleClick:t}))):r.a.createElement("div",{className:"game start-page"},r.a.createElement(o.a,{onClick:c},"Start Game"))},P=function(e){var t=e.message;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,t))},I=function(e){var t=e.countdown;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,t))},F=function(){return r.a.createElement(N,null)},A=function(){return r.a.createElement("div",{className:"app"},r.a.createElement(u,{title:"Trivia"}),r.a.createElement("div",{className:"main"},r.a.createElement(F,null)),r.a.createElement(s,null))};n(54);i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(A,null)),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.8d0a4f77.chunk.js.map