(this["webpackJsonptrivia-react"]=this["webpackJsonptrivia-react"]||[]).push([[0],{70:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(31),c=n.n(i),u=n(4),s=n(32),o=n.n(s),l=new function e(){Object(u.a)(this,e),this.init=function(){o.a.initialize({gtmId:"GTM-55KMLRF"})}},m=function(){var e=(new Date).getFullYear();return r.a.createElement(r.a.Fragment,null,r.a.createElement("footer",null,"\xa9 ",e," Oscar Villalta"))},p=function(e){var t=e.title;return r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,t))},d=n(6),f=n(74),h=n(75),E=function(e){var t=e.answers,n=e.handleClick;return e.disableAnswers?r.a.createElement(r.a.Fragment,null):r.a.createElement(r.a.Fragment,null,t.map((function(e){return r.a.createElement(h.a,{key:e,onClick:function(e){return n(e)}},e)})))},g=n(73),v=function(e){var t=e.question;return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,null,r.a.createElement("h2",null,t)))},b=n(1),w=n.n(b),q=n(7),O=n(11),j=n(10),k=n(9),N=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(u.a)(this,e),this.question="",this.answers=[],this.correctAnswer="",Object.assign(this,t)},x=n(33),y=n(34),C=n.n(y),S=new(function(){function e(){Object(u.a)(this,e),this.httpClient=void 0,this.httpClient=C.a.create({baseURL:"https://opentdb.com"})}return Object(k.a)(e,[{key:"get",value:function(){var e=Object(q.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.httpClient.get(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}()),L=new(function(){function e(){Object(u.a)(this,e)}return Object(k.a)(e,[{key:"get",value:function(){var e=Object(q.a)(w.a.mark((function e(){var t,n,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.get("/api.php?amount=10");case 2:return t=e.sent,n=t.data.results,a=P(n),e.abrupt("return",Object(j.shuffle)(a));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}()),P=function(e){var t=x.AllHtmlEntities.decode;return e.map((function(e){var n=Object(j.concat)(e.incorrect_answers,e.correct_answer).map((function(e){return t(e)}));if("True"!==n[0]){var a=Object(j.shuffle)(n)||[];return new N({question:t(e.question),correctAnswer:t(e.correct_answer),answers:a})}return new N({question:t(e.question),correctAnswer:t(e.correct_answer),answers:n})}))},Q=function(){function e(){Object(u.a)(this,e),this.questions=void 0,this.questionPosition=void 0,this.questions=[new N],this.questionPosition=0}return Object(k.a)(e,[{key:"initialize",value:function(){var e=Object(q.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.questionPosition=0,e.next=3,this.fetchQuestions();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"advanceQuestion",value:function(){this.questionPosition++}},{key:"getQuestion",value:function(){return this.questions[this.questionPosition]}},{key:"getQuestionsCount",value:function(){return this.questions.length}},{key:"getQuestionsPosition",value:function(){return this.questionPosition}},{key:"fetchQuestions",value:function(){var e=Object(q.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.get();case 2:t=e.sent,this.questions=t;case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}]),e}();Q.instance=void 0;var I=function(){var e=function(){var e=Object(a.useState)(!1),t=Object(O.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(""),c=Object(O.a)(i,2),u=c[0],s=c[1],o=Object(a.useState)(10),l=Object(O.a)(o,2),m=l[0],p=l[1],d=Object(a.useState)(!1),f=Object(O.a)(d,2),h=f[0],E=f[1],g=Object(a.useState)(0),v=Object(O.a)(g,2),b=v[0],k=v[1],N=Q.getInstance(),x=Object(a.useCallback)((function(){N.getQuestionsPosition()!==N.getQuestionsCount()-1?(N.advanceQuestion(),E(!1),p(10)):r(!1)}),[N]);return Object(a.useEffect)((function(){var e;return n&&(e=setInterval((function(){p((function(e){return null!=e?e-1:null}))}),1e3),0===m&&(clearInterval(e),p(null),function(){var e=N.getQuestion().correctAnswer;s("The answer is: "+e),E(!0),setTimeout((function(){x(),s("")}),5e3)}())),function(){return clearInterval(e)}}),[m,n,N,x]),{gameIsOn:n,init:function(){var e=Object(q.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.initialize();case 3:r(!0),k(0),p(10),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),s("Problem resetting game.");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),handleClick:function(e){var t=e.currentTarget.textContent,n=N.getQuestion();t===Object(j.find)(n.answers,(function(e){return e===n.correctAnswer}))?(k(b+(m||0)),x(),s("")):s("that is incorrect")},message:u,question:N.getQuestion(),advanceQuestion:x,countdown:m,disableAnswers:h,score:b}}(),t=e.handleClick,n=e.gameIsOn,i=e.init,c=e.question,u=e.message,s=e.countdown,o=e.disableAnswers,l=e.score;return n?r.a.createElement("div",{className:"game"},r.a.createElement("div",{className:"question-wrapper"},r.a.createElement(v,{question:c.question})),r.a.createElement("div",{className:"message-wrapper"},r.a.createElement(F,{countdown:s})),r.a.createElement("div",{className:"message-wrapper"},r.a.createElement(A,{message:u})),r.a.createElement("div",{className:"answer-wrapper"},r.a.createElement(E,{answers:c.answers,handleClick:t,disableAnswers:o}))):r.a.createElement("div",{className:"game text-center"},r.a.createElement(h.a,{onClick:i},"Start Game"),r.a.createElement("h2",{className:"mt-5"},"Your last score was: ",l),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"#/form",className:"homepage_link"},"Example Form Page")),r.a.createElement("li",null,r.a.createElement("a",{href:"#/content",className:"homepage_link"},"Example Content Page")),r.a.createElement("li",null,r.a.createElement("a",{href:"#/page-3",className:"homepage_link"},"Example Page 3... TBD"))))},A=function(e){var t=e.message;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,t))},F=function(e){var t=e.countdown;return r.a.createElement(r.a.Fragment,null,t?r.a.createElement("h3",null,t):"")},T=function(){return r.a.createElement("div",{className:"p-4"},r.a.createElement("a",{href:"#/home"},"Home"),r.a.createElement("div",{className:"mt-4"},r.a.createElement("h2",null,"Content Header"),r.a.createElement("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Eveniet sapiente voluptate et, impedit animi rem voluptatibus odit inventore temporibus quod culpa deserunt! Neque aperiam tempora culpa. Iure quam odit beatae accusantium provident exercitationem deserunt vel ab consequuntur corrupti non vero dolor consectetur error at eveniet, voluptas quae cumque fugit delectus!"),r.a.createElement("a",{href:"#/form"},"go to form")),r.a.createElement("div",{className:"mt-4"},r.a.createElement("h2",null,"Section 2"),r.a.createElement("p",null,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Incidunt fugiat ducimus, amet aliquid illo consectetur earum dolor modi dolores laudantium, vitae cupiditate expedita dolorem? Repellat at quaerat nemo, aliquam aperiam, dolorum nesciunt blanditiis labore, dicta velit sequi eum error doloremque consequatur itaque dignissimos sint ducimus aspernatur eos. Tempore, molestias adipisci."),r.a.createElement("a",{href:"https://www.google.com"},"Leave and go to google...")),r.a.createElement("div",{className:"mt-4"},r.a.createElement("h2",null,"Section 3"),r.a.createElement("p",null,"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Soluta consequatur consectetur maxime, quasi minus, esse assumenda incidunt ab recusandae architecto debitis numquam aut porro perspiciatis."),r.a.createElement("p",null,"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Soluta consequatur consectetur maxime, quasi minus, esse assumenda incidunt ab recusandae architecto debitis numquam aut porro perspiciatis."),r.a.createElement("p",null,"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Soluta consequatur consectetur maxime, quasi minus, esse assumenda incidunt ab recusandae architecto debitis numquam aut porro perspiciatis."),r.a.createElement("p",null,"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Soluta consequatur consectetur maxime, quasi minus, esse assumenda incidunt ab recusandae architecto debitis numquam aut porro perspiciatis."),r.a.createElement("a",{href:"#/page-3"},"to page 3...")),r.a.createElement("div",{className:"mt-4"},r.a.createElement("h2",null,"Section 4"),r.a.createElement("img",{src:"https://www.placecage.com/c/200/300",alt:"nc"}),r.a.createElement("p",null,"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Non, iste cumque nisi, sapiente labore maiores tenetur repellendus corrupti recusandae, dolore et unde nihil amet id! Lorem ipsum, dolor sit amet consectetur adipisicing elit. Pariatur, nobis a magnam eum vero atque temporibus, mollitia architecto neque deleniti, optio eveniet. Quisquam, ut alias.")))},H=function(){return r.a.createElement("div",{className:"p-4"},r.a.createElement("form",{onSubmit:function(){console.log("something")}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Label: "),r.a.createElement("input",{placeholder:"test"})),r.a.createElement("button",{className:"btn btn-dark",type:"submit"},"Submit"),r.a.createElement("br",null),r.a.createElement("a",{className:"mt-3",href:"#/"},"Go to home")))},_=function(){var e=Object(d.a)();return r.a.createElement(f.b,{history:e},r.a.createElement(f.c,null,r.a.createElement(f.a,{path:"/form",exact:!0,component:function(){return r.a.createElement(H,null)}}),r.a.createElement(f.a,{path:"/content",exact:!0,component:function(){return r.a.createElement(T,null)}}),r.a.createElement(f.a,{path:"/submitted",exact:!0,component:function(){return r.a.createElement(M,null)}}),r.a.createElement(f.a,{path:"/page-3",exact:!0,component:function(){return r.a.createElement(G,{pageNumber:3})}}),r.a.createElement(f.a,{path:"/",component:I})))},G=function(e){var t=e.pageNumber;return r.a.createElement("div",{className:"w-100 text-center"},r.a.createElement("h1",null,"Page-",t),r.a.createElement("a",{href:"#/"},"HOME"),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){return console.log("does nothing")}},"foo"))},M=function(){return r.a.createElement("div",{className:"mt-4 text-center"},r.a.createElement("h3",null,"Submitted"),r.a.createElement("br",null),r.a.createElement("a",{href:"#/"},"Home"))},z=function(){return Object(a.useEffect)((function(){l.init()}),[]),r.a.createElement("div",{className:"app"},r.a.createElement(p,{title:"Trivia"}),r.a.createElement("div",{className:"main"},r.a.createElement(_,null)),r.a.createElement(m,null))};n(70);!function(e){var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=".concat(e);var n="\n  window.dataLayer = window.dataLayer || [];\n  function gtag(){dataLayer.push(arguments);}\n  gtag('js', new Date());\n\n  gtag('config', '".concat(e,"');"),a=document.createElement("script");a.innerHTML=n,document.head.appendChild(t),document.head.appendChild(a)}("G-1K6KGFYSH7"),c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(z,null)),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.4393cc9d.chunk.js.map